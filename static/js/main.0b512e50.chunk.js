(this["webpackJsonpconnect-with-follow-button"]=this["webpackJsonpconnect-with-follow-button"]||[]).push([[0],{1052:function(e,t){},1054:function(e,t){},1061:function(e,t){},1062:function(e,t){},1162:function(e,t,n){},1268:function(e,t){},1324:function(e,t){},1326:function(e,t){},1340:function(e,t){},1452:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(829),r=n(53),s=n(16),o=n(40),i=n(14),l=n(15),u=n.n(l),j=n(830),b=n.n(j),h=(n(1162),n(849)),f=n(850),d=n(35);var p=function(e){var t=e.setAccount,n=function(){var e=window.ethereum;return Boolean(e&&e.isMetaMask)};Object(c.useEffect)((function(){a()}),[]);var a=function(){var e=Object(o.a)(u.a.mark((function e(){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n()){e.next=13;break}return e.prev=1,e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:c=e.sent,t(c[0]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h.b.error(e.t0.message);case 11:e.next=14;break;case 13:h.b.error("Please install MetaMask.");case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)(f.a,{className:"connectButton",onClick:a,children:"Connect wallet"})},O=n(594),x=n(1470),w=n(1466),m=n(1467),v=n(1471),g=n(1468),k=n(1469),y=n(1472),S=n(839),A=n(307),C=n(840),I=(n(1377),x.a.TextArea);Object(S.a)({apiKey:"AIzaSyB7U2BxIp7VdA0nLrsuxxfUF6ybNTvTxO8",authDomain:"wechat-follow.firebaseapp.com",projectId:"wechat-follow",storageBucket:"wechat-follow.appspot.com",messagingSenderId:"1006898251801",appId:"1:1006898251801:web:c20393888d3d40a8588288",measurementId:"G-QCZGJCSHVG",databaseURL:"https://wechat-follow-default-rtdb.firebaseio.com/"});function T(){var e=Object(A.a)(),t=window.innerHeight-300,n=Object(c.useState)(0),a=Object(i.a)(n,2),l=(a[0],a[1],Object(c.useState)(!1)),j=Object(i.a)(l,2),h=j[0],x=j[1],S=Object(c.useState)(0),T=Object(i.a)(S,2),B=T[0],F=T[1],E=Object(c.useState)(""),M=Object(i.a)(E,2),q=M[0],_=M[1],z=Object(c.useState)(200),H=Object(i.a)(z,2),N=H[0],U=H[1],Z=Object(c.useState)(!1),D=Object(i.a)(Z,2),G=(D[0],D[1]),J=Object(c.useState)(!1),L=Object(i.a)(J,2),R=(L[0],L[1],Object(c.useState)(!1)),P=Object(i.a)(R,2),V=P[0],K=P[1],Q=Object(c.useState)(""),W=Object(i.a)(Q,2),X=W[0],Y=W[1],$=Object(c.useState)([]),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],ce=new b.a(window.ethereum),ae=function(){var t=Object(o.a)(u.a.mark((function t(){var n,c,a,o,i,l,j,b;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=Object(s.a)(te),c=[],a=(a=q.replace(/[^A-Za-z0-9]*/g,"")).replaceAll("(\n|\r|(\r\n)|(\x85)|(\u2028)|(\u2029))",""),console.log(a,"---address"),o=0;o<a.length;o+=42)i=a.slice(o,o+42),ce.utils.isAddress(i)&&c.push(i);l=Object(r.a)(n),t.prev=8,l.s();case 10:if((j=l.n()).done){t.next=17;break}return b=j.value,n.push(b),t.next=15,Object(A.d)(Object(A.c)(e,"address_list/"+b),b);case 15:t.next=10;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),l.e(t.t0);case 22:return t.prev=22,l.f(),t.finish(22);case 25:ne(n);case 26:case"end":return t.stop()}}),t,null,[[8,19,22,25]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){Object(A.b)(Object(A.c)(e,"address_list/"),(function(e){var t=e.val(),n=Object.keys(t).filter((function(e){return e=(e=e.replace(/[^A-Za-z0-9,]*/g,"")).replaceAll("(\n|\r|(\r\n)|(\x85)|(\u2028)|(\u2029))",""),ce.utils.isAddress(e)})),c={};n.forEach((function(e){e=e.replace(/[^A-Za-z0-9,]*/g,""),c[e]=e})),ne(Object.keys(c))}))}),[]);var re=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector(".infinite-scroll-component").scrollTop=document.querySelector(".ant-list.ant-list-split").scrollHeight;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(t=!h),!t){e.next=6;break}return e.next=5,re();case 5:setTimeout(Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:setTimeout(Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:case"end":return e.stop()}}),e)}))),4e4);case 3:case"end":return e.stop()}}),e)}))),4e4);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(s.a)(Array.prototype.slice.call(document.querySelectorAll(".ant-list-item-action li"),0)),n=0,c=Object.keys(t);n<c.length;n++)a=c[n],"Follow"===t[a].innerText&&t[a].children[0].children[0].click();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("p",{children:["\u57fa\u4e8ewaha3\u5927\u4f6c\u7684\u5f00\u6e90\u4ee3\u7801\u4fee\u6539\u7684 ",Object(d.jsx)("a",{href:"https://github.com/waha3/follow",target:"_blank",children:"waha3 github"})," | ",Object(d.jsx)("a",{href:"https://waha3.github.io/follow/",target:"_blank",children:"\u4f5c\u8005\u539f\u9879\u76eegithub page"})]}),Object(d.jsxs)("p",{children:["\u5982\u679cwaha3\u5927\u4f6c\u4f5c\u8005\u4e0d\u5141\u8bb8\u6211\u4fee\u6539\u4f7f\u7528\uff0c\u8bf7\u8054\u7cfb\u6211 \u6211\u4f1a\u4e0b\u6389\u9875\u9762 ",Object(d.jsx)("a",{href:"mailto:noshufu@gmail.com",children:"\u8bf7\u7ed9\u6211\u53d1\u90ae\u4ef6"})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{width:800},children:[X?Object(d.jsx)(f.a,{style:{width:"auto"},children:X}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Connect with Follow Button"}),Object(d.jsx)(p,{setAccount:Y})]}),Object(d.jsx)("div",{children:V?Object(d.jsx)(I,{onChange:function(e){return _(e.target.value)},value:q,placeholder:"wallet address"}):Object(d.jsx)(f.a,{type:"dashed",onClick:function(){return K(!0)},block:!0,icon:Object(d.jsx)(y.a,{}),children:"Add Wallet Address"})})]}),Object(d.jsxs)(w.a,{justify:"space-between",children:[Object(d.jsx)(m.a,{span:5,children:Object(d.jsx)(f.a,{type:"primary",onClick:ae,children:"Submit"})}),Object(d.jsx)(m.a,{span:10,offset:2,children:Object(d.jsxs)(w.a,{children:[Object(d.jsx)(m.a,{offset:1,children:Object(d.jsx)(f.a,{type:"primary",onClick:oe,children:"FollowAll"})}),Object(d.jsx)(m.a,{offset:1,children:Object(d.jsx)(f.a,{type:"primary",onClick:re,children:"Scroll End"})})]})})]}),Object(d.jsx)(w.a,{children:Object(d.jsx)(f.a,{type:"primary",style:{width:"100%"},onClick:se,children:h?"\u8f6e\u5faa\u4e2d\uff0c\u70b9\u51fb\u5173\u95ed\u529f\u80fd":"Auto Follow(\u6d4b\u8bd5\u529f\u80fd\uff0c\u4e0d\u4fdd\u8bc1\u7a33\u5b9a\u6027)"})})]}),Object(d.jsx)(C.a,{dataLength:te.slice(0,N).length,next:function(){G(!0),U(N+500),G(!1)},height:t,hasMore:te.slice(0,N).length<te.length,loader:Object(d.jsx)(v.a,{paragraph:{rows:1},active:!0}),endMessage:Object(d.jsx)(g.a,{plain:!0,children:"It is all, nothing more \ud83e\udd10"}),scrollableTarget:"scrollableDiv",children:Object(d.jsx)(k.b,{style:{width:800},dataSource:te.slice(0,N),renderItem:function(e,t){return Object(d.jsx)(k.b.Item,{actions:[Object(d.jsx)(O.FollowButton,{provider:window.ethereum,namespace:"CyberConnect",toAddr:e,env:O.Env.PRODUCTION,chain:O.Blockchain.ETH,onSuccess:function(e){console.log(e),F(B+1)},onFailure:function(e){console.log(e),F(B+1)}})],children:e},e)}})})]})}var B=document.getElementById("root");a.createRoot(B).render(Object(d.jsx)(c.StrictMode,{children:Object(d.jsx)(T,{})}))},878:function(e,t){},881:function(e,t){},884:function(e,t){},888:function(e,t){},914:function(e,t){},916:function(e,t){},925:function(e,t){},927:function(e,t){},937:function(e,t){},939:function(e,t){}},[[1452,1,2]]]);
//# sourceMappingURL=main.0b512e50.chunk.js.map